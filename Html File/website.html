<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>D3 </title>
  <link rel="stylesheet" type="text/css" href = "style_website.css">
  <link href="~/lib/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>

<body>


<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://d3js.org/d3-random.v1.min.js"></script>
<script src="https://unpkg.com/d3-hist2d@1.0.6/build/d3-hist2d.min.js"></script>
  <div class="storyboard">
    <section id="header">
      <h1>
        <center>
          <i>
          A Visual Presentation to Predict the Next Best Action
          </i>
        </center>
      </h1>
    </section>

    <br><br><br><br><br><br><br><br>

    <section class="text" id="introduction">
      <h2>
        Introduction
      </h2>
      This section will give a formal introduction as<br> to what we are trying to accomplish, <br>
      meaning that we are trying to visually represent<br>
      the task that we are trying to do
    </section>

    <section class="text" id="intuition">
      <h2>
        First Some Intuition
      </h2>
      In recent times, Pharma companies invest a plethora of their resources in promoting a product
      to physicians and other facilities.For this they use an amalgamation of a variety of channels,
      so that they can get physicians to write a prescription for their drug.
      The central dilemma that pharma companies encounter include, <b> what is the appropriate channel, content and time </b> the physician
      should be targeted so that they could direct the physician attention to their product and increase a chance of them prescribing their drug.
      This additionally aids the pharma
      company's promotion activities, thus directing their resources in a precise manner.<br>
    </section>
    <div id="circular_graph">
    </div>
    <script src = "link.js"></script>

    <section class="text" id="data_dive">
      <h2>
        Data Dive
      </h2>
      The data has some HCP level
      characteristics such as Birth Year(age), group or the hospital the HCP belongs to and even school the particular physician
      graduated from.<br>

      Further the data gives information giving insights into the past encounters of pharma company with the physicians such as channel,
      content, date, time and if there was a response for that particular encounter or not. <br>
      Our assumption here will include that
      physicians are targeted with <b>2 emails and 1 rep call per week and 1 direct mail per month</b>.
    </section>

    <section class="text" id="sub_data_dive">
      The graph is a 2d-histogram representing the <b>response</b> of physicians for variable <b>content and channel</b> combination.<br>
      The <b>grey circle</b> depicts the total promotions extended by pharma companies and <b>green circle</b> represents
      the frequency of response received for that particular content-channel combination.

    </section>

    <div id="histogram"></div>
    <script src = "2d_hist.js"></script>

    <section class="text" id="machine_learning">
      <h2>
        Introducing Machine Learning
      </h2>
      Machine learning is a field that uses statistical techniques to give computers ability to learn certain patterns
      in data that are relatively challenging for humans to carve out.<br>
      Interpreting the 2d-histogram, we can say that physician usually respond to <b>Direct Mails</b> and <b>Rep calls</b> more
      compared to <b>Emails</b>.<br>
      In cases when we need to carve such patterns from data that see multiple dimensions, we need sophisticated computer statistical models
      that would help us dig these patters from high dimensional data.<br>
      Some famous models include:<br>
      <li>Decision Trees</li>
      <li>Random Forest</li>
      <li>Neural Networks</li>
      <br>
      For the purpose of this presentation, we use a variation of Random Forest called the <b>Sparse Forest Model</b>.
    </section>


    <section class="text" id="prior_to_sparse_forest">
      <h2>
        Intuition into the Building Block for Sparse Forest
      </h2>
      Sparse forest model contains multiple trees ranging from 2-50, each giving out prediction on the input it receives.<br>
      Prior to understanding how a sparse forest model would work, it is vital to understand how a decision tree is constructed.
    </section>

    <section class="text" id="decision tree">
      A decision tree uses if-then statements to define patterns in data.<br><br>
      For Example, if the age of a physician is greater than 45 then he is likely to respond to a Rep call.

      These statements are called <b>forks</b> in machine learning and they split the data into branches based on a value.<br>
      That value between the branches is called a <b>split point</b>. This split point is selected based on the <b>Entropy</b> value of
      each feature in the data.<br>
      <b>Entropy</b> is the amount of information that is contained in each feature. At each split starting from the root, the feature
      with the highest entropy value is used so that
      leaves of the tree would have a low entropy value aiding the tree to predict with high probability the correct label for a particular
      data point.

    </section>

    <section class="text" id="sparse_forest">
      <h2>
        Sparse Forest
      </h2>
      Sparse forest is built of multiple decision tree models. The idea behind it is to construct many such trees each time
      taking a different subset of training data and features into consideration. Later, decisions from different trees are taken into a voting
      and the prediction would result into the class that receives highest votes.<br><br>
      This model has some advantages over the traditional decision tree model.
      It is less likely to run into the problem of <b>overfitting</b>(a common problem in statistical models where the models tend to
      remember the data while training thus performing poorly on the new unseen data).<br>
      It takes into consideration various decisions instead of relying on just one tree.

    </section>

    <section class="text" id="sparse_forest_nba">
      <h2>
        Sparse Forest Model Predicting the Next Best Action
      </h2>
      For predicting the <b>Next Best Action</b>, we use a Sparse Forest model with 7 trees.

    </section>

    <div class="chart">
      <div id = "chart1" ></div>
      <div id = "chart2" ></div>
      <div id = "chart3" ></div>
      <div id = "chart4" ></div>
      <div id = "chart5" ></div>
      <div id = "chart6" ></div>
      <div id = "chart7" ></div>

    </div>

    <script src = "d_tree.js"></script>



    <section class="text" id="sparse_forest_voting">
      <h2>
        Analyzing the Voting Process
      </h2>
      Lets study the voting process by running test data on our model.<br>
      Each block in the panel represents an encounter with Physician 1.<br>
      The red circles represent that the tree predicted a <b>No Response</b> for that promotion and green circles indicate
      a <b>Response</b>.<br><br>

      For Example, focusing on the first voting block, 4 trees predict that there will be a <b>Response</b> while 3 predict
      as <b>No Response</b>. Putting this through a vote, the model will predict <b>Response</b> for this promotion and the value
      in the voting block indicates the potential promotion to be made.


    </section>

    <div id="voting"></div>
    <script src = "voting.js"></script>


    <section class="text" id="sparse_forest_voting_rest">
      Hover over the different panels to see predictions by the model for remaining physicians.
    </section>

    <div id="voting_rest">
      <div id = "test2"></div>
      <div id = "test3"></div>
      <div id = "test4"></div>
      <div id = "test5"></div>
      <div id = "test6"></div>
      <div id = "test7"></div>
      <div id = "test8"></div>
      <div id = "test9"></div>
      <div id = "test10"></div>

      <div id = "test11"></div>
      <div id = "test12"></div>
      <div id = "test13"></div>
      <div id = "test14"></div>
      <div id = "test15"></div>
      <div id = "test16"></div>
      <div id = "test17"></div>
      <div id = "test18"></div>
      <div id = "test19"></div>
      <div id = "test20"></div>

      <div id = "test21"></div>
      <div id = "test22"></div>
      <div id = "test23"></div>
      <div id = "test24"></div>
      <div id = "test25"></div>
      <div id = "test26"></div>
      <div id = "test27"></div>
      <div id = "test28"></div>
      <div id = "test29"></div>
      <div id = "test30"></div>

      <div id = "test31"></div>
      <div id = "test32"></div>
      <div id = "test33"></div>
      <div id = "test34"></div>
      <div id = "test35"></div>
      <div id = "test36"></div>
      <div id = "test37"></div>
      <div id = "test38"></div>
      <div id = "test39"></div>
      <div id = "test40"></div>
    </div>

    <script src = "voting_rest.js"></script>

    <section class="text" id="accuracy">
      <h2>
        Evaluating the Model
      </h2>
      Lets evaluate the performance of our model on test data!

      <div id = "accuracy_num"></div>

    </section>

    <script src = "accuracy.js"></script>




    <section class="text" id="sparse_forest_wrong_predictions">
      <h2>
        Dealing with False Predictions
      </h2>
      Here Explain the voting process

    </section>






  </div>
</body>
